# config/config.py
import os
from dotenv import load_dotenv

# .env 파일이 있다면 로드합니다.
load_dotenv()


class Config:
    """애플리케이션 환경 설정을 담는 클래스"""

    # --- 기본 경로 설정 ---
    # 이 파일의 위치(__file__)를 기준으로 BASE_DIR를 설정합니다.
    # backend 폴더의 절대 경로가 됩니다.
    BASE_DIR = os.path.dirname(os.path.abspath(__file__))

    # --- 모델 경로 ---
    MODEL_PATHS = {
        "yolo": os.path.join(BASE_DIR, "models", "YOLOv11_large.pt"),
        "resnet": os.path.join(BASE_DIR, "models", "ResNet50_45.pth"),
    }

    # --- 데이터셋 경로 ---
    IMAGE_DIR = os.path.join(BASE_DIR, "DATA", "images")
    LABELS_DIR = os.path.join(BASE_DIR, "DATA", "labels")

    # --- API 키 ---
    # os.getenv를 사용하여 환경 변수에서 API 키를 가져옵니다.
    WEATHER_API_KEY_ENCODE = os.getenv("WEATHER_API_KEY_ENCODE")
    WEATHER_API_KEY_DECODE = os.getenv("WEATHER_API_KEY_DECODE")
    GEMINI_API_KEY = os.getenv("GEMINI_API_KEY")

    # --- 클래스 매핑 (체크포인트 학습 클래스 순서를 그대로 유지) ---
    CLASS_MAPPINGS = {
        "category": [
            "탑",
            "블라우스",
            "티셔츠",
            "니트웨어",
            "셔츠",
            "브라탑",
            "후드티",
            "청바지",
            "팬츠",
            "스커트",
            "레깅스",
            "조거팬츠",
            "코트",
            "재킷",
            "점퍼",
            "패딩",
            "베스트",
            "가디건",
            "짚업",
            "드레스",
            "점프수트",
        ],
        "color": [
            "골드",
            "그레이",
            "그린",
            "네온",
            "네이비",
            "라벤더",
            "레드",
            "민트",
            "베이지",
            "브라운",
            "블랙",
            "블루",
            "스카이블루",
            "실버",
            "옐로우",
            "오렌지",
            "와인",
            "카키",
            "퍼플",
            "핑크",
            "화이트",
        ],
        "sleeve_length": ["7부소매", "긴팔", "민소매", "반팔", "없음", "캡"],
        "neckline": [
            "노카라",
            "라운드넥",
            "보트넥",
            "브이넥",
            "스위트하트",
            "스퀘어넥",
            "오프숄더",
            "원숄더",
            "유넥",
            "터틀넥",
            "홀터넥",
            "후드",
        ],
        "fit": ["노멀", "루즈", "벨보텀", "스키니", "오버사이즈", "와이드", "타이트"],
        "style": [
            "레트로",
            "로맨틱",
            "리조트",
            "매니시",
            "모던",
            "밀리터리",
            "섹시",
            "소피스트케이티드",
            "스트리트",
            "스포티",
            "아방가르드",
            "오리엔탈",
            "웨스턴",
            "젠더리스",
            "컨트리",
            "클래식",
            "키치",
            "톰보이",
            "펑크",
            "페미닌",
            "프레피",
            "히피",
            "힙합",
        ],
        "material": [
            "가죽",
            "네오프렌",
            "니트",
            "데님",
            "레이스",
            "린넨",
            "메시",
            "무스탕",
            "벨벳",
            "비닐/PVC",
            "스웨이드",
            "스판덱스",
            "시퀸/글리터",
            "시폰",
            "실크",
            "우븐",
            "울/캐시미어",
            "자카드",
            "저지",
            "코듀로이",
            "트위드",
            "패딩",
            "퍼",
            "플리스",
            "헤어 니트",
            "면",
        ],
        "print": [
            "그라데이션",
            "그래픽",
            "깅엄",
            "도트",
            "레터링",
            "무지",
            "믹스",
            "뱀피",
            "스트라이프",
            "아가일",
            "지그재그",
            "지브라",
            "체크",
            "카무플라쥬",
            "타이다이",
            "페이즐리",
            "플로럴",
            "하운즈 투스",
            "하트",
            "해골",
            "호피",
        ],
        "detail": [
            "X스트랩",
            "글리터",
            "니트꽈베기",
            "단추",
            "더블브레스티드",
            "드롭숄더",
            "드롭웨이스트",
            "디스트로이드",
            "띠",
            "러플",
            "레이스",
            "레이스업",
            "롤업",
            "리본",
            "버클",
            "비대칭",
            "비즈",
            "셔링",
            "스터드",
            "스트링",
            "스티치",
            "스팽글",
            "슬릿",
            "싱글브레스티드",
            "자수",
            "지퍼",
            "체인",
            "컷아웃",
            "퀄팅",
            "태슬",
            "패치워크",
            "퍼트리밍",
            "퍼프",
            "페플럼",
            "포켓",
            "폼폼",
            "프린지",
            "프릴",
            "플레어",
            "플리츠",
        ],
        "collar": [
            "밴드칼라",
            "보우칼라",
            "세일러칼라",
            "셔츠칼라",
            "숄칼라",
            "차이나칼라",
            "테일러드칼라",
            "폴로칼라",
            "피터팬칼라",
        ],
    }

    # --- CORS 및 Flask 실행 설정 ---
    CORS_ORIGINS = os.getenv("CORS_ORIGINS", "*")
    FLASK_RUN_PORT = int(os.getenv("FLASK_RUN_PORT", 5000))
    FLASK_RUN_HOST = os.getenv("FLASK_RUN_HOST", "0.0.0.0")
    FLASK_DEBUG = os.getenv("FLASK_DEBUG", "False").lower() == "true"
